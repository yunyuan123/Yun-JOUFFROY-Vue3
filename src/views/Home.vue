<script setup>
import axios from 'axios';
import { onBeforeMount, ref } from 'vue';
import { useRouter } from 'vue-router';
import MonsterCard from '../components/MonsterCard.vue';
import { API_ENDPOINT } from '../config';

const monsters = ref([])
const router = useRouter()
//const API_ENDPOINT = 'http://localhost:3000/books'

onBeforeMount(async()=>{
    const {data} = await axios.get(`${API_ENDPOINT}/monsters?page=1&limit=3`)
    monsters.value = data
    console.log(data)
})

</script>

<template>

    <section data-bs-version="5.1" class="header01  mbr-fullscreen">
        <div class="container">
            <div class="wrapper p-3 py-5 p-lg-5">
                <div class="row justify-content-center justify-content-lg-start">
                    <div class="col-12 col-md-6">
                        <h1 class="mbr-section-title mbr-fonts-style pb-3 display-2">
                            <strong>Zelda Breath of the Wild</strong>
                        </h1>
                    </div>
                    <div class="col-12 col-md-6">
                        
                    </div>
                </div>
                <div class="row justify-content-center justify-content-lg-start mt-4">
                    <div class="col-12 col-md-6">
                        <h2 class="mbr-section-subtitle mbr-fonts-style pb-3 display-5"><strong>Plongez dans un monde de d√©couverte, d'exploration et d'aventure</strong></h2>
                    </div>
                    <div class="col-12 col-md-6 d-flex">
                        <div class="mbr-section-btn">
                            <router-link class="btn btn-primary display-7" :to="{ name: 'liste' }">LES MONSTRES</router-link>
                        </div>
                        <div class="decor">
                            <svg viewBox="0 0 1 1">
                                <path stroke-width="0.09" d="M 0.192 0.241 C 0.212 0.213 0.245 0.236 0.224 0.266 C 0.027 0.571 0.314 0.802 0.603 0.551 C 0.854 0.324 0.491 0.05 0.391 0.362 C 0.285 0.683 0.524 0.787 0.807 0.789 L 0.71 0.654 C 0.697 0.628 0.729 0.607 0.748 0.631 L 0.867 0.793 C 0.885 0.813 0.889 0.825 0.868 0.845 L 0.723 0.986 C 0.699 1.001 0.675 0.973 0.699 0.948 L 0.804 0.834 C 0.187 0.821 0.326 0.417 0.364 0.317 C 0.56 -0.027 0.875 0.353 0.637 0.571 C 0.388 0.836 -0.072 0.66 0.192 0.241">
                                </path>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <div class="container-fluid">
        <div class="wrapper">
            <div class="row title-section">
                <h2 class="mbr-section-title mbr-fonts-style display-2 text-center"><strong>Monsters</strong></h2>
            </div>
            <div class="row justify-content-center">
                <div class="col-4 col-md-2 mb-2 mb-md-5" v-for="monster in monsters"
                    :key="monster.id"
                    :monster = "monster">
                    <monster-card :monster="monster" />
                    <!-- <router-link :to="{name: 'detail', params: { id: book.id }}">
                        <div class="tm-gallery-item-overlay">
                            <img :src="book.image" alt="Image" class="img-fluid tm-img-center">
                        </div>
                        <p class="tm-figcaption">{{ book.title }}</p>
                    </router-link> -->
                </div>
            </div>
        </div>
    </div>
                           
</template>
